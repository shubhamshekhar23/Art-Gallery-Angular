"use strict";(self.webpackChunkArt_Gallery_Angular=self.webpackChunkArt_Gallery_Angular||[]).push([[378],{9378:(Mv,t,l)=>{l.r(t),l.d(t,{HomeModule:()=>pv});var v=l(6814),c=l(9468),C=l(7394),V=l(7398),L=l(9315);class d{constructor(r,a){this.departmentId=r,this.displayName=a,this.objectIds=[],this.lowLimit=0,this.upperLimit=12,this.objectList=[]}}var n=l(9862);let x=(()=>{class e{constructor(a){this._httpClient=a,this.BASE_URL="https://collectionapi.metmuseum.org/public/collection/v1"}getObjectDetails(a){return this._httpClient.get(this.BASE_URL+`/objects/${a}`)}searchObject(a,f){return this._httpClient.get(this.BASE_URL+`/search?departmentId=${f}&q=${a}`)}static#c=this.\u0275fac=function(f){return new(f||e)(c.LFG(n.eN))};static#a=this.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u=(()=>{class e{constructor(a){this._httpClient=a,this.BASE_URL="https://collectionapi.metmuseum.org/public/collection/v1"}getDepartments(){return this._httpClient.get(this.BASE_URL+"/departments")}getObjectsInDepartments(a){return this._httpClient.get(this.BASE_URL+`/objects?departmentIds=${a}`)}static#c=this.\u0275fac=function(f){return new(f||e)(c.LFG(n.eN))};static#a=this.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),s=(()=>{class e{constructor(a,f,i){this.artObjectService=a,this.departmentService=f,this._httpClient=i,this.departmentList=[],this.currentDepLoadIndex=0,this.currentDepLoadSearchQueryIndex=0,this.searchQuery="",this.recursionSubscription=new C.w0}prepareDepartmentList(){this.recursionSubscription&&this.recursionSubscription.unsubscribe(),this.departmentList=[],this.departmentService.getDepartments().pipe((0,V.U)(a=>a.departments)).subscribe(a=>{this.populateDepartmentList(a),this.populateDataSequentially()})}populateDepartmentList(a){a.forEach(f=>{let i=new d(f.departmentId,f.displayName);this.departmentList?.push(i)})}populateDataSequentially(){this.currentDepLoadIndex<this.departmentList.length?this.populateObjectIdsInDepartments(this.departmentList&&this.departmentList[this.currentDepLoadIndex]):this.currentDepLoadIndex=0}populateObjectIdsInDepartments(a){this.recursionSubscription=this.departmentService.getObjectsInDepartments(a.departmentId).subscribe(f=>{a.objectIds=f.objectIDs,this.populateObjectDetailsList(a)})}populateObjectDetailsList(a){this.updateObjectDetailsListInDepartment(a).subscribe(f=>{a.objectList=[...a.objectList,...f],this.currentDepLoadIndex++,this.populateDataSequentially()})}updateObjectDetailsListInDepartment(a){let i=a.objectIds.slice(a.lowLimit,a.upperLimit).map(h=>this.artObjectService.getObjectDetails(h));return(0,L.D)(i)}fetchExtraArtObjects(a){a.lowLimit=a.upperLimit,a.upperLimit=a.upperLimit+12,this.updateObjectDetailsListInDepartment(a).subscribe(f=>{a.objectList=[...a.objectList,...f]})}searchAndFilterArt(a){this.recursionSubscription&&this.recursionSubscription.unsubscribe(),this.currentDepLoadSearchQueryIndex=0,this.searchQuery=a,this.populateDataSequentiallyForSearchQuery()}populateDataSequentiallyForSearchQuery(){this.currentDepLoadSearchQueryIndex<this.departmentList.length?this.populateObjectIdsInDepartmentUsingSearchQuery(this.departmentList&&this.departmentList[this.currentDepLoadSearchQueryIndex]):this.currentDepLoadSearchQueryIndex=0}populateObjectIdsInDepartmentUsingSearchQuery(a){this._resetDepartmentData(a),this.recursionSubscription=this.artObjectService.searchObject(this.searchQuery,a.departmentId).subscribe(f=>{f.objectIDs&&f.objectIDs[0]?(a.objectIds=f.objectIDs,this.populateObjectDetailsListUsingSearchQuery(a)):(a.objectList=[],this.currentDepLoadSearchQueryIndex++,this.populateDataSequentiallyForSearchQuery())})}populateObjectDetailsListUsingSearchQuery(a){this.updateObjectDetailsListInDepartment(a).subscribe(f=>{a.objectList=[...a.objectList,...f],this.currentDepLoadSearchQueryIndex++,this.populateDataSequentiallyForSearchQuery()})}_resetDepartmentData(a){a.lowLimit=0,a.upperLimit=12,a.objectList=[],a.objectIds=[]}static#c=this.\u0275fac=function(f){return new(f||e)(c.LFG(x),c.LFG(u),c.LFG(n.eN))};static#a=this.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var p={prefix:"fas",iconName:"angle-left",icon:[256,512,[],"f104","M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"]},M={prefix:"fas",iconName:"angle-right",icon:[256,512,[],"f105","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"]};let $h=(()=>{class e{constructor(){}get imgSrc(){return this.artObject?.primaryImageSmall||"https://images.metmuseum.org/CRDImages/as/web-large/DP251139.jpg"}ngOnInit(){}static#c=this.\u0275fac=function(f){return new(f||e)};static#a=this.\u0275cmp=c.Xpm({type:e,selectors:[["app-art-object-details-dialog"]],inputs:{artObject:"artObject"},decls:17,vars:6,consts:[[1,"art-object-details-container"],[1,"details-body"],[1,"image-section"],["alt","art-image",3,"src"],[1,"details-section"]],template:function(f,i){1&f&&(c.TgZ(0,"main",0)(1,"h4"),c._uU(2,"Art Information"),c.qZA(),c.TgZ(3,"div",1)(4,"div",2),c._UZ(5,"img",3),c.qZA(),c.TgZ(6,"div",4)(7,"p"),c._uU(8),c.qZA(),c.TgZ(9,"p"),c._uU(10),c.qZA(),c.TgZ(11,"p"),c._uU(12),c.qZA(),c.TgZ(13,"p"),c._uU(14),c.qZA(),c.TgZ(15,"p"),c._uU(16),c.qZA()()()()),2&f&&(c.xp6(5),c.Q6J("src",i.imgSrc,c.LSH),c.xp6(3),c.hij("Title : ",null==i.artObject?null:i.artObject.title,""),c.xp6(2),c.hij("Department : ",null==i.artObject?null:i.artObject.title,""),c.xp6(2),c.hij("Artist : ",null==i.artObject?null:i.artObject.artistDisplayName,""),c.xp6(2),c.hij("Year : ",null==i.artObject?null:i.artObject.objectDate,""),c.xp6(2),c.hij("Repository : ",null==i.artObject?null:i.artObject.repository,""))},styles:[".art-object-details-container[_ngcontent-%COMP%]{padding:30px;background:rgba(33,33,33,.9)}.art-object-details-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px}.art-object-details-container[_ngcontent-%COMP%]   .details-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px;margin-bottom:25px}.art-object-details-container[_ngcontent-%COMP%]   .details-body[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:center}.art-object-details-container[_ngcontent-%COMP%]   .details-body[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.art-object-details-container[_ngcontent-%COMP%]   .details-body[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{width:50%}.art-object-details-container[_ngcontent-%COMP%]   .details-body[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:-webkit-fill-available}"]})}return e})();var m=l(2507),H=l(2894);function cv(e,r){if(1&e&&c._UZ(0,"div",3),2&e){const a=c.oxw();c.Q6J("id",a.loaderId)}}let av=(()=>{class e{constructor(a){this.http=a,this.imageUrl="",this.id=0,this.loading=!0}ngOnInit(){}ngAfterViewInit(){}get imageId(){return this.id+"_hdImage"}get loaderId(){return this.id+"_loader"}onImageLoad(){this.loading=!1}loadImage(){const a=document.getElementById(this.imageId),f=document.getElementById(this.loaderId),i=new Image;i.onload=()=>{this.loading=!1,a.src=this.imageUrl,f&&(f.style.display="none")},i.src=this.imageUrl}static#c=this.\u0275fac=function(f){return new(f||e)(c.Y36(n.eN))};static#a=this.\u0275cmp=c.Xpm({type:e,selectors:[["app-image-loader"]],inputs:{imageUrl:"imageUrl",id:"id"},decls:3,vars:3,consts:[[1,"img-loader-box"],["class","loader",3,"id",4,"ngIf"],["loading","lazy",3,"src","id","load"],[1,"loader",3,"id"]],template:function(f,i){1&f&&(c.TgZ(0,"section",0),c.YNc(1,cv,1,1,"div",1),c.TgZ(2,"img",2),c.NdJ("load",function(){return i.onImageLoad()}),c.qZA()()),2&f&&(c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(1),c.Q6J("src",i.imageUrl,c.LSH)("id",i.imageId))},dependencies:[v.O5],styles:[".img-loader-box[_ngcontent-%COMP%]{width:200px;height:200px;display:grid;place-content:center;position:relative}.img-loader-box[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:20px;position:absolute;top:35%;left:30%}img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return e})(),ev=(()=>{class e{constructor(){}get imgSrc(){return this.artObject?.primaryImage||"https://images.metmuseum.org/CRDImages/as/web-large/DP251139.jpg"}ngOnInit(){}static#c=this.\u0275fac=function(f){return new(f||e)};static#a=this.\u0275cmp=c.Xpm({type:e,selectors:[["app-art-object-card"]],inputs:{artObject:"artObject"},decls:5,vars:3,consts:[[1,"art-object-container"],[3,"imageUrl","id"]],template:function(f,i){1&f&&(c.TgZ(0,"main",0)(1,"div"),c._UZ(2,"app-image-loader",1),c.qZA(),c.TgZ(3,"p"),c._uU(4),c.qZA()()),2&f&&(c.xp6(2),c.Q6J("imageUrl",i.imgSrc)("id",null==i.artObject?null:i.artObject.objectID),c.xp6(2),c.Oqu(null==i.artObject?null:i.artObject.title))},dependencies:[av],styles:[".art-object-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:13px;width:197px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"]})}return e})();const fv=["scrollableDiv"];function iv(e,r){if(1&e){const a=c.EpF();c.TgZ(0,"app-art-object-card",8),c.NdJ("click",function(){const h=c.CHM(a).$implicit,z=c.oxw(2);return c.KtG(z.openArtDetailsDialog(h))}),c.qZA()}2&e&&c.Q6J("artObject",r.$implicit)}function lv(e,r){if(1&e){const a=c.EpF();c.TgZ(0,"div",3)(1,"fa-icon",4),c.NdJ("click",function(){c.CHM(a);const i=c.oxw();return c.KtG(i.leftClick())}),c.qZA(),c.TgZ(2,"div",5,6),c.YNc(4,iv,1,1,"app-art-object-card",7),c.qZA(),c.TgZ(5,"fa-icon",4),c.NdJ("click",function(){c.CHM(a);const i=c.oxw();return c.KtG(i.rightClick())}),c.qZA()()}if(2&e){const a=c.oxw();c.xp6(1),c.Q6J("icon",a.faAngleLeft),c.xp6(3),c.Q6J("ngForOf",null==a.department?null:a.department.objectList),c.xp6(1),c.Q6J("icon",a.faAngleRight)}}function rv(e,r){1&e&&(c.TgZ(0,"div"),c._uU(1,"No Data Available"),c.qZA())}let hv=(()=>{class e{constructor(a,f){this.depArtStateService=a,this.modalService=f,this.faAngleLeft=p,this.faAngleRight=M}get artObjectList(){return[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}ngOnInit(){}getWidthOfScrollableView(){return this.scrollableDiv?.nativeElement?.getBoundingClientRect()?.width}leftClick(){this.scrollableDiv?.nativeElement?.scrollBy({left:-1*this.getWidthOfScrollableView(),top:0,behavior:"smooth"})}rightClick(){this.scrollableDiv?.nativeElement?.scrollBy({left:this.getWidthOfScrollableView(),top:0,behavior:"smooth"}),this.depArtStateService.fetchExtraArtObjects(this.department)}openArtDetailsDialog(a){this.modalService.open($h,{centered:!0,size:"lg"}).componentInstance.artObject=a}static#c=this.\u0275fac=function(f){return new(f||e)(c.Y36(s),c.Y36(m.FF))};static#a=this.\u0275cmp=c.Xpm({type:e,selectors:[["app-department-details"]],viewQuery:function(f,i){if(1&f&&c.Gf(fv,5),2&f){let h;c.iGM(h=c.CRH())&&(i.scrollableDiv=h.first)}},inputs:{department:"department"},decls:5,vars:3,consts:[[1,"department-details-container"],["class","art-list-container",4,"ngIf"],[4,"ngIf"],[1,"art-list-container"],[3,"icon","click"],[1,"art-objects"],["scrollableDiv",""],[3,"artObject","click",4,"ngFor","ngForOf"],[3,"artObject","click"]],template:function(f,i){1&f&&(c.TgZ(0,"main",0)(1,"h5"),c._uU(2),c.qZA(),c.YNc(3,lv,6,3,"div",1),c.YNc(4,rv,2,0,"div",2),c.qZA()),2&f&&(c.xp6(2),c.Oqu(null==i.department?null:i.department.displayName),c.xp6(1),c.Q6J("ngIf",(null==i.department||null==i.department.objectList?null:i.department.objectList.length)>0),c.xp6(1),c.Q6J("ngIf",0==(null==i.department||null==i.department.objectList?null:i.department.objectList.length)))},dependencies:[v.sg,v.O5,H.BN,ev],styles:[".department-details-container[_ngcontent-%COMP%]{padding:50px}@media screen and (max-width: 502px){.department-details-container[_ngcontent-%COMP%]{padding:20px}}.department-details-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:2rem}.department-details-container[_ngcontent-%COMP%]   .art-list-container[_ngcontent-%COMP%]{display:flex;gap:30px}@media screen and (max-width: 502px){.department-details-container[_ngcontent-%COMP%]   .art-list-container[_ngcontent-%COMP%]{gap:10px}}.department-details-container[_ngcontent-%COMP%]   .art-list-container[_ngcontent-%COMP%]   .art-objects[_ngcontent-%COMP%]{width:100%;display:flex;gap:30px;overflow-x:hidden}.department-details-container[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:50px;height:200px;display:flex;align-items:center;cursor:pointer}.department-details-container[_ngcontent-%COMP%]   app-art-object-card[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})();var o=l(6223);let vv=(()=>{class e{constructor(a){this.departmentArtStateService=a,this.searchText="",this.timeCheck=null}ngOnInit(){}searchAndFilterArt(){this.timeCheck&&clearTimeout(this.timeCheck),this.timeCheck=setTimeout(()=>{this.searchText?this.departmentArtStateService.searchAndFilterArt(this.searchText):this.departmentArtStateService.prepareDepartmentList()},500)}static#c=this.\u0275fac=function(f){return new(f||e)(c.Y36(s))};static#a=this.\u0275cmp=c.Xpm({type:e,selectors:[["app-header"]],decls:4,vars:1,consts:[[1,"header-container"],[1,"logo"],["type","text","placeholder","search for art.....",3,"ngModel","ngModelChange"]],template:function(f,i){1&f&&(c.TgZ(0,"main",0)(1,"div",1),c._uU(2,"Art Gallery"),c.qZA(),c.TgZ(3,"input",2),c.NdJ("ngModelChange",function(z){return i.searchText=z})("ngModelChange",function(){return i.searchAndFilterArt()}),c.qZA()()),2&f&&(c.xp6(3),c.Q6J("ngModel",i.searchText))},dependencies:[o.Fj,o.JJ,o.On],styles:['@charset "UTF-8";.header-container[_ngcontent-%COMP%]{text-align:center;position:relative;display:flex;justify-content:space-between;padding:30px}.header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:30px;font-weight:700;color:#2c3e50;letter-spacing:2px;background:linear-gradient(to right,#ffdab9,#ffa07a);padding:5px;border-radius:5px}.header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:before{content:"\\1f3a8";font-size:30px;margin-right:10px;color:#e74c3c}.header-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:400px;padding:10px;border:none;border-radius:4px;font-size:16px;width:250px;outline:none;box-sizing:border-box;border:1px solid transparent}.header-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #3498db}']})}return e})();function ov(e,r){if(1&e&&c._UZ(0,"app-department-details",3),2&e){const a=c.oxw().$implicit;c.Q6J("department",a)}}function nv(e,r){if(1&e&&(c.TgZ(0,"section"),c.YNc(1,ov,1,1,"app-department-details",2),c.qZA()),2&e){const a=r.$implicit;c.xp6(1),c.Q6J("ngIf",0!==a.objectList.length)}}let sv=(()=>{class e{get departmentList(){return[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}constructor(a){this.depArtStateService=a}ngOnInit(){this.depArtStateService.prepareDepartmentList()}static#c=this.\u0275fac=function(f){return new(f||e)(c.Y36(s))};static#a=this.\u0275cmp=c.Xpm({type:e,selectors:[["app-home-page"]],decls:3,vars:1,consts:[[1,"home-page-container"],[4,"ngFor","ngForOf"],[3,"department",4,"ngIf"],[3,"department"]],template:function(f,i){1&f&&(c.TgZ(0,"main",0),c._UZ(1,"app-header"),c.YNc(2,nv,2,1,"section",1),c.qZA()),2&f&&(c.xp6(2),c.Q6J("ngForOf",i.depArtStateService.departmentList))},dependencies:[v.sg,v.O5,hv,vv]})}return e})();var mv=l(594);let zv=(()=>{class e{static#c=this.\u0275fac=function(f){return new(f||e)};static#a=this.\u0275mod=c.oAB({type:e});static#e=this.\u0275inj=c.cJS({imports:[v.ez,m.IJ,o.u5,m.IJ,H.uH,o.u5]})}return e})();const tv=[{path:"",component:sv}];let pv=(()=>{class e{static#c=this.\u0275fac=function(f){return new(f||e)};static#a=this.\u0275mod=c.oAB({type:e});static#e=this.\u0275inj=c.cJS({imports:[v.ez,mv.Bz.forChild(tv),zv]})}return e})()}}]);